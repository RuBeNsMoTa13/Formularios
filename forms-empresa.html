<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/public/assets/styles/style.css" />
  <link rel="stylesheet" href="/public/assets/styles/forms.css" />

  <title>Formulário de Informações Empresariais</title>
</head>

<body>
  <!-- Header Section -->
  <script src="/public/assets/scripts/header.js"></script>


  <!-- Main Content -->
  <main>
    <div id="alert" class="hidden"></div>
    <form id="businessForm" onsubmit="handleSubmit(event)" class="form-bordered">
      <h1>Formulário de Informações Empresariais</h1>

      <div>
        <label for="empresa">Nome da empresa/projeto</label>
        <input type="text" id="empresa" name="empresa" required class="neon" />
      </div>

      <div>
        <label for="setor">Setor ou Indústria</label>
        <input type="text" id="setor" name="setor" required class="neon" />
      </div>

      <div>
        <label for="nicho">Nicho de mercado</label>
        <input type="text" id="nicho" name="nicho" required class="neon" />
        <div>Exemplo: moda, tecnologia, educação, saúde</div>
      </div>

      <div>
        <label for="departamento">Departamento</label>
        <input type="text" id="departamento" name="departamento" class="neon" />
      </div>

      <div>
        <label for="localizacao">Localização geográfica do mercado de atuação</label>
        <input type="text" id="localizacao" name="localizacao" required class="neon" />
        <div>
          Exemplo: Municipal - São Paulo/SP /ou/ Estadual - São Paulo e Minas
          Gerais /ou/ América Latina /ou/ Global
        </div>
      </div>

      <div>
        <label for="marca">Nome da Marca</label>
        <input type="text" id="marca" name="marca" required class="neon" />
      </div>

      <div>
        <label for="slogan">Slogan (se houver)</label>
        <input type="text" id="slogan" name="slogan" class="neon" />
      </div>

      <div>
        <label for="fundadores">Fundador(es)</label>
        <input type="text" id="fundadores" name="fundadores" required class="neon" />
      </div>

      <div>
        <label for="fundacao">Ano de fundação</label>
        <input type="text" id="fundacao" name="fundacao" required class="neon" />
        <div>Exemplo: Março de 2010</div>
      </div>

      <div>
        <label>Seu negócio está em qual estágio hoje?</label>
        <div>
          <input type="radio" id="inicial" name="estagio" value="inicial" class="neon" />
          <p for="inicial">Inicial</p><br />
          <input type="radio" id="crescimento" name="estagio" value="crescimento" class="neon" />
          <p for="crescimento">Crescimento</p><br />
          <input type="radio" id="escala" name="estagio" value="escala" class="neon" />
          <p for="escala">Escala</p>
        </div>
      </div>

      <div>
        <label for="sede">Localização da Sede se aplicável</label>
        <input type="text" id="sede" name="sede" class="neon" />
        <div>Exemplo: Matriz - São Paulo/SP</div>
      </div>

      <div>
        <label for="site">Site</label>
        <input type="url" id="site" name="site" class="neon" />
      </div>


      <div>
        <label for="redes">Redes Sociais</label>
        <input type="text" id="redes" name="redes" class="neon" />
        <div>Exemplo: @MeuNegocio</div>
      </div>

      <div>
        <label for="logotipo">Sua marca já possui um logotipo? Se sim, faça o upload:</label>
        <input type="file" id="logotipo" name="logotipo" accept="image/*" />
      </div>

      <div>
        <label for="cores">Quais cores representam sua marca?</label>
        <input type="text" id="cores" name="cores" class="neon" />
        <div>
          Descreva as cores ou compartilhe os códigos HEX. Exemplo: Azul
          #0000FF, Branco #FFFFFF
        </div>
      </div>

      <div>
        <label for="estilo">Tem alguma referência visual ou estilo que gostaria de
          seguir?</label>
        <input type="text" id="estilo" name="estilo" class="neon" />
        <div>
          Minimalista, vibrante, vintage, futurista, etc.
        </div>
      </div>

      <div>
        <label>Precisa de sugestões para identidade visual?</label>
        <div>
          <input type="radio" id="sim" name="sugestoes" value="sim" class="neon" />
          <p for="sim">Sim, quero opções</p><br />
          <input type="radio" id="nao" name="sugestoes" value="nao" class="neon" />
          <p for="nao">Não preciso, já tenho</p>
        </div>
      </div>

      <div>
        <label for="descricao">Descreva brevemente o que sua empresa/produto faz</label>
        <input type="text" id="descricao" name="descricao" required class="neon" />
        <div>
          Exemplo: Oferecemos soluções de automação para pequenas empresas
        </div>
      </div>

      <div>
        <label for="ideia">Qual é o seu negócio ou a ideia dele?</label>
        <input type="text" id="ideia" name="ideia" required class="neon" />
        <div>Explique em poucas palavras</div>
      </div>

      <div>
        <label for="solucao">Qual a principal solução do seu produto/serviço?</label>
        <input type="text" id="solucao" name="solucao" required class="neon" />
        <div>
          Exemplo: Automatiza processos para economizar tempo
        </div>
      </div>

      <div>
        <label for="entrega">Como é a entrega do seu produto/serviço?</label>
        <input type="text" id="entrega" name="entrega" required class="neon" />
        <div>
          Exemplo: Venda online, licença SaaS, assinatura mensal
        </div>
      </div>

      <div>
        <label for="receita">Quais são suas principais fontes de receita?</label>
        <input type="text" id="receita" name="receita" required class="neon" />
        <div>Exemplo: Venda direta, Assinatura, Publicidade</div>
      </div>

      <div>
        <label for="parceiros">Quem são seus principais parceiros?</label>
        <input type="text" id="parceiros" name="parceiros" class="neon" />
        <div>Exemplo: Fornecedores, investidores, afiliados</div>
      </div>

      <div>
        <label for="publico">Quem são seus públicos-alvo e avatares?</label>
        <input type="text" id="publico" name="publico" required class="neon" />
        <div>
          Exemplo: Mães de 30 a 40 anos autônomas que precisam conciliar
          trabalho profissional e maternidade dentro de casa
        </div>
      </div>

      <div>
        <label for="vendas">Como faz as vendas?</label>
        <input type="text" id="vendas" name="vendas" required class="neon" />
        <div>
          B2B, B2C, Marketplace, Vendas diretas, Inbound, Outbound,
          Autoatendimento
        </div>
      </div>

      <div>
        <label for="relacionamento">Como você se relaciona com os clientes?</label>
        <input type="text" id="relacionamento" name="relacionamento" required class="neon" />
        <div>
          Exemplo: Atendimento personalizado, suporte automatizado, comunidade
          online
        </div>
      </div>

      <div>
        <label for="valores">Quais são seus valores?</label>
        <input type="text" id="valores" name="valores" required class="neon" />
        <div>Exemplo: Inovação, transparência, humanização</div>
      </div>

      <div>
        <label for="crenca">No que você acredita?</label>
        <input type="text" id="crenca" name="crenca" required class="neon" />
        <div>Exemplo: Transformar ideias em resultados</div>
      </div>

      <div>
        <label for="objetivo">Qual é o seu objetivo / propósito?</label>
        <input type="text" id="objetivo" name="objetivo" required class="neon" />
        <div>
          Exemplo: Democratizar o acesso à tecnologia para pequenos negócios
        </div>
      </div>

      <div>
        <label for="crencas_clientes">No que seus clientes em potencial acreditam?</label>
        <input type="text" id="crencas_clientes" name="crencas_clientes" required class="neon" />
        <div>
          Exemplo: Mudar de vida, ganhar dinheiro fácil, ter uma vida
          abundante
        </div>
      </div>

      <div>
        <label for="gostos_clientes">Do que seus clientes em potencial gostam?</label>
        <input type="text" id="gostos_clientes" name="gostos_clientes" required class="neon" />
        <div>
          Exemplo: Praticidade, Carro, Viagem, Tecnologia
        </div>
      </div>

      <div>
        <label for="venda_indireta">O que você vende sem dizer o que você vende?</label>
        <input type="text" id="venda_indireta" name="venda_indireta" required class="neon" />
        <div>
          Exemplo: Facilidade, Inovação, Praticidade, Sonhos
        </div>
      </div>

      <div>
        <label for="valores_clientes">Quais são os valores e crenças dos seus clientes?</label>
        <input type="text" id="valores_clientes" name="valores_clientes" required class="neon" />
        <div>
          Exemplo: Liberdade financeira, automação, crescimento profissional
        </div>
      </div>

      <div>
        <label for="sensacoes">Quais sensações você quer que sua marca transmita?</label>
        <input type="text" id="sensacoes" name="sensacoes" required class="neon" />
        <div>Exemplo: luxo, acessibilidade, inovação</div>
      </div>

      <div>
        <label for="marcas_admiradas">Quais marcas você admira e por quê?</label>
        <input type="text" id="marcas_admiradas" name="marcas_admiradas" class="neon" />
      </div>

      <div>
        <label for="barreiras">Quais são as barreiras de entrada no setor?</label>
        <input type="text" id="barreiras" name="barreiras" class="neon" />
      </div>

      <div>
        <label for="impacto">Qual impacto isso gera?</label>
        <input type="text" id="impacto" name="impacto" required class="neon" />
      </div>

      <div>
        <label for="transformacoes_produto">Liste as transformações que o seu produto/serviço oferece</label>
        <input type="text" id="transformacoes_produto" name="transformacoes_produto" required class="neon" />
      </div>

      <div>
        <label for="transformacoes_pessoais">Liste as transformações pessoais que o seu produto/serviço oferece</label>
        <input type="text" id="transformacoes_pessoais" name="transformacoes_pessoais" required class="neon" />
      </div>

      <div>
        <label>Qual é o seu modelo de negócio?</label>
        <div>
          <input type="checkbox" id="venda_direta" name="modelo_negocio[]" value="venda_direta" class="neon" />
          <p for="venda_direta">Venda Direta</p>
          <input type="checkbox" id="assinatura" name="modelo_negocio[]" value="assinatura" class="neon" />
          <p for="assinatura">Assinatura</p>
          <input type="checkbox" id="marketplace" name="modelo_negocio[]" value="marketplace" class="neon" />
          <p for="marketplace">Marketplace</p>
          <input type="checkbox" id="freemium" name="modelo_negocio[]" value="freemium" class="neon" />
          <p for="freemium">Freemium</p>
        </div>
      </div>

      <div>
        <label for="canais">Quais canais você usa para gerar leads e vendas?</label>
        <input type="text" id="canais" name="canais" required class="neon" />
        <div>
          Exemplo: E-commerce, E-mail, LinkedIn, Telefone, Whatsapp, Eventos
        </div>
      </div>

      <div>
        <label for="estrategia_digital">Você já tem uma estratégia de presença digital ou quer começar do
          zero?</label>
        <input type="text" id="estrategia_digital" name="estrategia_digital" required class="neon" />
      </div>

      <div>
        <label for="diferencial">O que torna seu negócio diferente dos concorrentes?</label>
        <input type="text" id="diferencial" name="diferencial" required class="neon" />
      </div>

      <div>
        <label for="concorrentes">Quem são seus principais concorrentes ou referências no
          mercado?</label>
        <input type="text" id="concorrentes" name="concorrentes" required class="neon" />
      </div>

      <div>
        <label for="concorrentes_melhor">O que acha que seus concorrentes estão fazendo melhor do que
          você?</label>
        <input type="text" id="concorrentes_melhor" name="concorrentes_melhor" class="neon" />
      </div>

      <div>
        <label for="desafios">Quais são seus principais desafios e oportunidades?</label>
        <input type="text" id="desafios" name="desafios" required class="neon" />
      </div>

      <div>
        <label>Os clientes têm muitas opções de compra?</label><br />
        <div>
          <input type="radio" id="opcoes_sim" name="opcoes_compra" value="sim" class="neon" />
          <p for="opcoes_sim">Sim</p><br />
          <input type="radio" id="opcoes_nao" name="opcoes_compra" value="nao" class="neon" />
          <p for="opcoes_nao">Não</p>
        </div>
      </div>

      <div>
        <label for="ciclo_vendas">Qual é o tempo médio do seu ciclo de vendas, do primeiro contato
          até o fechamento?</label>
        <input type="text" id="ciclo_vendas" name="ciclo_vendas" required class="neon" />
      </div>

      <div>
        <label for="gargalo">Há algum gargalo específico no processo de vendas que você gostaria
          de resolver?</label>
        <input type="text" id="gargalo" name="gargalo" class="neon" />
        <div>
          Ex: baixa taxa de conversão, aumentar o ticket médio, etc
        </div>
      </div>

      <div>
        <label for="descoberta">Como um cliente descobre seu negócio hoje?</label>
        <input type="text" id="descoberta" name="descoberta" required class="neon" />
        <div>Exemplo: Indicações, redes sociais, anúncios</div>
      </div>

      <div>
        <label for="jornada">Quais passos um cliente percorre até comprar algo de você?</label>
        <input type="text" id="jornada" name="jornada" required class="neon" />
      </div>

      <div>
        <label for="melhorias">Onde você acha que pode melhorar essa experiência da jornada do seu
          cliente?</label>
        <input type="text" id="melhorias" name="melhorias" required class="neon" />
      </div>

      <div>
        <label for="produtos">Quais produtos ou serviços sua marca oferece?</label>
        <input type="text" id="produtos" name="produtos" required class="neon" />
      </div>

      <div>
        <label for="diferenciais">A empresa tem diferenciais fortes que fidelizam clientes? Se sim,
          quais?</label>
        <input type="text" id="diferenciais" name="diferenciais" class="neon" />
      </div>

      <div>
        <label for="tendencias">Quais são as tendências de mercado que podem impactar seu
          setor?</label>
        <input type="text" id="tendencias" name="tendencias" required class="neon" />
      </div>

      <div>
        <label for="descricao_curta">Descreva o que sua marca faz em poucas palavras</label>
        <input type="text" id="descricao_curta" name="descricao_curta" required class="neon" />
      </div>

      <div>
        <label for="palavras_associadas">Quais palavras você gostaria que fossem associadas à sua
          marca?</label>
        <input type="text" id="palavras_associadas" name="palavras_associadas" required class="neon" />
        <div>
          Exemplo: Inovação, sofisticação, acessibilidade
        </div>
      </div>

      <div>
        <label for="conteudo">Que tipo de conteúdo você já produz (se já produz)?</label>
        <input type="text" id="conteudo" name="conteudo" class="neon" />
      </div>

      <div>
        <label for="temas">Que temas gostaria de abordar?</label>
        <input type="text" id="temas" name="temas" class="neon" />
        <div>Exemplo: Educação, vendas, entretenimento</div>
      </div>

      <div>
        <label for="produtos_definidos">Você já tem produtos ou serviços definidos ou deseja ajuda para
          criar novas ofertas?</label>
        <input type="text" id="produtos_definidos" name="produtos_definidos" required class="neon" />
      </div>
      <center>
        <button type="submit">Enviar Formulário</button>
      </center>
    </form>
  </main>

  <!-- Footer Section -->

  <script src="/public/assets/scripts/footer.js"></script>


  <script type="module"></script>
  <script type="module">
    import { supabase } from './src/supabase.js';

    window.handleSubmit = async (event) => {
      event.preventDefault();
      const form = event.target;
      const formData = new FormData(form);

      // criar banco de dados
      const modeloNegocio = [];
      document
        .querySelectorAll('input[name="modelo_negocio[]"]:checked')
        .forEach((checkbox) => {
          modeloNegocio.push(checkbox.value);
        });

      // Create data object
      const data = {
        empresa: formData.get('empresa'),
        setor: formData.get('setor'),
        nicho: formData.get('nicho'),
        departamento: formData.get('departamento'),
        localizacao: formData.get('localizacao'),
        marca: formData.get('marca'),
        slogan: formData.get('slogan'),
        fundadores: formData.get('fundadores'),
        fundacao: formData.get('fundacao'),
        estagio: formData.get('estagio'),
        sede: formData.get('sede'),
        site: formData.get('site'),
        redes_sociais: formData.get('redes'),
        logotipo: formData.get('logotipo'),
        cores: formData.get('cores'),
        estilo_visual: formData.get('estilo'),
        sugestoes_identidade: formData.get('sugestoes'),
        descricao: formData.get('descricao'),
        ideia: formData.get('ideia'),
        solucao: formData.get('solucao'),
        entrega: formData.get('entrega'),
        receita: formData.get('receita'),
        parceiros: formData.get('parceiros'),
        publico_alvo: formData.get('publico'),
        vendas: formData.get('vendas'),
        relacionamento_clientes: formData.get('relacionamento'),
        valores: formData.get('valores'),
        crenca: formData.get('crenca'),
        objetivo: formData.get('objetivo'),
        crencas_clientes: formData.get('crencas_clientes'),
        gostos_clientes: formData.get('gostos_clientes'),
        venda_indireta: formData.get('venda_indireta'),
        valores_clientes: formData.get('valores_clientes'),
        sensacoes: formData.get('sensacoes'),
        marcas_admiradas: formData.get('marcas_admiradas'),
        barreiras: formData.get('barreiras'),
        impacto: formData.get('impacto'),
        transformacoes_produto: formData.get('transformacoes_produto'),
        transformacoes_pessoais: formData.get('transformacoes_pessoais'),
        modelo_negocio: modeloNegocio,
        canais: formData.get('canais'),
        estrategia_digital: formData.get('estrategia_digital'),
        diferencial: formData.get('diferencial'),
        concorrentes: formData.get('concorrentes'),
        concorrentes_melhor: formData.get('concorrentes_melhor'),
        desafios: formData.get('desafios'),
        opcoes_compra: formData.get('opcoes_compra'),
        ciclo_vendas: formData.get('ciclo_vendas'),
        gargalo: formData.get('gargalo'),
        descoberta: formData.get('descoberta'),
        jornada: formData.get('jornada'),
        melhorias: formData.get('melhorias'),
        produtos: formData.get('produtos'),
        diferenciais: formData.get('diferenciais'),
        tendencias: formData.get('tendencias'),
        descricao_curta: formData.get('descricao_curta'),
        palavras_associadas: formData.get('palavras_associadas'),
        conteudo: formData.get('conteudo'),
        temas: formData.get('temas'),
        produtos_definidos: formData.get('produtos_definidos'),
      };

      try {
        const { error } = await supabase.from('business_info').insert([data]);

        if (error) throw error;

        showAlert('Formulário enviado com sucesso!', 'success');
        form.reset();
      } catch (error) {
        console.error('Error:', error);
        showAlert(
          'Erro ao enviar formulário. Por favor, tente novamente.',
          'error'
        );
      }
    };

    function showAlert(message, type) {
      const alert = document.getElementById('alert');
      alert.textContent = message;
      alert.className = `alert alert-${type}`;
      alert.classList.remove('hidden');

      setTimeout(() => {
        alert.classList.add('hidden');
      }, 5000);
    }
  </script>
</body>

</html>